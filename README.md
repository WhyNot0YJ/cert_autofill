# 证书管理系统 - 智能文档提取

## 项目概述

这是一个基于Vue 3 + Flask的证书管理系统，集成了智能文档提取功能，能够自动从申请书文档中提取关键信息并填充到表单中。

## 主要功能

### 🚀 智能文档提取
- **智能识别**: 支持上传 .doc, .docx, .pdf 格式的申请书文档
- **自动提取**: 使用Dify 平台自动提取文档中的关键信息
- **智能填充**: 提取的信息自动填充到对应的表单字段
- **数据映射**: 支持企业信息、技术参数、车辆信息等结构化数据提取

### 📋 申请书管理
- 申请书创建、编辑、删除
- 状态跟踪（草稿、已提交、处理中、已批准、已拒绝）
- 搜索和筛选功能
- 分页显示

### 🏢 公司管理
- 企业信息管理
- 商标和图案管理
- 文件上传和管理



## 技术架构

### 前端 (Frontend)
- **框架**: Vue 3 + TypeScript
- **UI组件**: Element Plus
- **路由**: Vue Router 4
- **构建工具**: Vite

### 后端 (Backend)
- **框架**: Flask (Python)
- **数据库**: SQLAlchemy + SQLite
- **提取服务**: Dify API集成
- **文件处理**: 支持多种文档格式

### 提取服务配置
- **平台**: Dify
- **API地址**: https://api.dify.ai/v1
- **API密钥**: app-aOHstplRYJhO3uadmVwKnf8E

## 安装和运行

### 环境要求
- Node.js 16+
- Python 3.8+
- pip

### 前端启动
```bash
cd frontend
npm install
npm run dev
```

### 后端启动
```bash
cd backend
pip install -r requirements.txt
python run.py
```

## 提取功能使用说明

### 1. 访问提取页面
- 在导航栏中点击"提取"按钮
- 或直接访问 `/ai-extraction` 路径

### 2. 上传文档
- 支持拖拽上传或点击选择文件
- 目前仅支持申请书文档上传（.doc, .docx, .pdf）
- 测试报告功能暂未开放

### 3. 提取过程
- 点击"提取信息"按钮
- 系统将文档发送到Dify 平台进行分析
- 提取完成后显示结果预览

### 4. 结果应用
- 查看提取的信息是否正确
- 点击"应用到表单"自动填充到申请书表单
- 可以手动编辑和调整提取的数据

### 5. 保存申请书
- 完善必填信息
- 点击"保存申请书"完成创建

## 支持的数据字段

### 企业信息
- 企业名称
- 企业英文名
- 企业地址

### 认证信息
- 认证类型
- 产品名称

### 技术参数
- 风窗厚度
- 夹层厚度
- 玻璃层数
- 夹层数
- 夹层类型
- 玻璃处理
- 涂层类型
- 涂层厚度
- 涂层颜色
- 材料性质
- 玻璃着色
- 导体集成
- 遮光带

### 车辆信息
- 车辆制造商
- 车辆类型
- 车辆类别
- 开发区域
- 其他技术参数

### 商标信息
- 商标名称列表
- 夹层着色信息

## 配置说明

### 环境变量
```bash
# Dify API配置
DIFY_API_KEY=app-aOHstplRYJhO3uadmVwKnf8E
DIFY_API_BASE=https://api.dify.ai/v1
```

### API端点
- `POST /api/ai-extract`: 文档提取
- `GET /api/applications`: 获取申请书列表
- `POST /api/applications`: 创建申请书
- `PUT /api/applications/:id`: 更新申请书
- `DELETE /api/applications/:id`: 删除申请书

## 开发说明

### 项目结构
```
cert_autofill/
├── backend/                 # 后端Flask应用
│   ├── app/
│   │   ├── services/       # 业务逻辑服务
│   │   │   └── document_extract.py  # 文档提取服务
│   │   ├── api/            # API路由
│   │   └── models/         # 数据模型
│   └── run.py              # 启动文件
├── frontend/                # 前端Vue应用
│   ├── src/
│   │   ├── components/     # 组件
│   │   │   └── UploadForm.vue  # 文件上传组件
│   │   ├── views/          # 页面
│   │   │   └── AIExtraction.vue # 提取页面
│   │   └── api/            # API接口
│   └── package.json
└── README.md
```

### 扩展开发
- 添加新的文档类型支持
- 扩展提取字段
- 集成其他提取服务
- 优化提取准确率

## 注意事项

1. **文件格式**: 目前仅支持申请书文档，测试报告功能开发中
2. **文件大小**: 建议单个文件不超过10MB
3. **网络要求**: 需要稳定的网络连接以访问提取服务
4. **数据安全**: 上传的文档会临时存储，处理完成后自动删除

## 故障排除

### 常见问题
1. **提取失败**: 检查网络连接和API密钥配置
2. **文件上传失败**: 确认文件格式和大小
3. **表单验证错误**: 检查必填字段是否完整

### 日志查看
- 后端日志: `backend/logs/`
- 前端控制台: 浏览器开发者工具

## 更新日志

### v1.0.0 (2024-12-19)
- ✨ 新增智能文档提取功能
- 🔧 集成Dify 平台
- 📱 优化移动端响应式设计
- 🎨 改进用户界面和交互体验

## 许可证

本项目采用MIT许可证，详见LICENSE文件。

## 联系方式

如有问题或建议，请联系开发团队。
